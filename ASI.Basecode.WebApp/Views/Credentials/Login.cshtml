@using ASI.Basecode.Services.ServiceModels
@using static ASI.Basecode.Resources.Views.LoginScreen
@model ASI.Basecode.Services.ServiceModels.SigninViewModel

@{
    ViewBag.LoginView = true;
    ViewData["Title"] = "Login Page";
}

@Html.AntiForgeryToken()

<div class="background group relative flex h-screen w-screen items-center justify-center">
    <div class="credential-gradient opacity-80 absolute flex h-full w-full translate-x-3/4 transform-gpu flex-col items-center justify-center drop-shadow-lg transition-all duration-100 hover:opacity-100 hover:translate-x-0 hover:scale-105 sm:w-2/3 sm:h-3/4 sm:rounded-xl md:w-1/3 md:scale-x-105 md:h-5/6 md:rounded-xl">
        <div class="flex h-52 w-full flex-col items-center justify-center gap-5">
            <img src="/img/LogoBg.png" class="mt-5 h-24 w-24 rounded-full">
            <label class="font-sans text-2xl font-bold tracking-wide text-white drop-shadow-lg">LOGIN</label>
        </div>
        <form asp-action="Login" method="post" class="flex w-full flex-col gap-5 px-16">
            <div class="flex flex-row items-center justify-center border-b border-zinc-400 px-4">
                <img src="/img/UserIcon.png" class="h-5 w-5" />
                <input type="text" autocomplete="off" id="usernameInput" placeholder="Username" class="border-0 w-full bg-transparent px-4 py-2 text-white placeholder:text-white focus:outline-none focus:border-0" asp-for="UserCode" />
                <span asp-validation-for="UserCode" class="text-xs text-red-500"></span> <!-- Display validation error -->
            </div>

            <div class="flex flex-row items-center justify-center border-b border-zinc-400 px-4">
                <img src="/img/LockIcon.png" class="h-5 w-5" />
                <input type="password" autocomplete="off" id="passwordInput" placeholder="Password" class="border-0 w-full bg-transparent px-4 py-2 text-white placeholder:text-white focus:border-0 focus:outline-none" asp-for="Password" />
                <span asp-validation-for="Password" class="text-xs text-red-500"></span> <!-- Display validation error -->
            </div>

            <div class="flex flex-col items-center justify-center gap-3">
                <button type="submit" class="w-36 rounded-full bg-white py-2 text-gray-700 drop-shadow-lg duration-300 hover:bg-violet-500 hover:text-white">
                    @Login
                </button>
                <label class="mt-1 text-center text-sm text-white">@NoAccount <a asp-area="" asp-controller="Credentials" asp-action="Register" class="underline duration-300">@Register</a></label>
                <label class="mt-1 text-center text-sm text-white">@ForgotPassword <a asp-area="" asp-controller="Credentials" asp-action="ForgotPassword" class="duration- underline">@ClickHere</a></label>
            </div>
        </form>
    </div>
    <h1 class="text-outline group-hover:opacity-0 pointer-events-none absolute left-8 top-0 font-sans font-bold italic leading-none text-[10rem] text-black opacity-100 transition-opacity duration-300 dark:text-white">
        <span class="text-violet-500">EX</span><span class="text-[9rem] opacity-50">PENSE</span><br />
        <span class="text-violet-500">TR</span><span class="text-[9rem] opacity-50">ACKER</span>
        <div class="opacity-80 ms-5 mt-5 flex flex-col">
            <label class="text-xl not-italic text-black text-black dark:text-white"><span class="text-violet-500">Take Charge</span> of Your Expenses</label>
            <label class="text-xl not-italic text-black text-black dark:text-white"><span class="text-violet-500">Experience the power</span> of effortless expense tracking and budgeting</label>
        </div>
        <div class="mt-12 flex h-auto w-full flex-row items-center justify-center gap-5">
            <button class="h-10 rounded-lg bg-violet-500 px-8 py-2 text-sm text-gray-700 text-black drop-shadow-lg duration-300 hover:bg-violet-500 hover:text-white dark:text-white">Start By Logging In!</button>
            <button class="h-10 rounded-lg bg-gray-300 px-8 py-2 text-sm text-gray-700 text-black text-black drop-shadow-lg duration-300 hover:bg-violet-500">Or Register Now</button>
        </div>
    </h1>
</div>

@section Scripts {
    <script>
        var errMessage = '@TempData["ErrorMessage"]';
        var regSuccess = '@TempData["RegSuccess"]';
        var invalidCred = '@TempData["InvalidCred"]';
        var emailVerified = '@TempData["EmailVerified"]';
        var emailNotVerified = '@TempData["EmailNotVerified"]';
        var tokenExpired = '@TempData["TokenExpired"]';
        var resetSuccess = '@TempData["ResetSuccess"]';
        var logoutSuccess = '@TempData["LogoutSuccess"]';
        var sendPassToken = '@TempData["SendPassToken"]';
        if (errMessage) {
            toastr.error(errMessage);
        }
        if (regSuccess) {
            toastr.success(regSuccess);
        }
        if (invalidCred) {
            toastr.error(invalidCred);
        }
        if (emailVerified) {
            toastr.success(emailVerified);
        }
        if (emailNotVerified) {
            toastr.error(emailNotVerified);
        }
        if (tokenExpired) {
            toastr.error(tokenExpired);
        }
        if (resetSuccess) {
            toastr.success(resetSuccess);
        }
        if (logoutSuccess) {
            toastr.success(logoutSuccess);
        }
        if (sendPassToken) {
            toastr.success(sendPassToken);
        }
    </script>
}